{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/antigravity/doc-editor/src/components/editor/EditorToolbar.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Editor } from '@tiptap/react';\r\nimport { \r\n  Undo2, \r\n  Redo2, \r\n  Bold, \r\n  Italic, \r\n  Underline, \r\n  Strikethrough,\r\n  ChevronDown,\r\n  Table,\r\n  Moon,\r\n  Sun,\r\n  FileDown\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface ToolbarProps {\r\n  editor: Editor | null;\r\n  theme: 'light' | 'dark';\r\n  onToggleTheme: () => void;\r\n  onExportPDF: () => void;\r\n}\r\n\r\nconst FONT_SIZES = ['8', '9', '10', '11', '12', '14', '16', '18', '20', '24', '28', '32', '36', '48'];\r\n\r\nconst HEADINGS = [\r\n  { label: 'Normal text', value: 'paragraph', level: 0 },\r\n  { label: 'Heading 1', value: 'heading', level: 1 },\r\n  { label: 'Heading 2', value: 'heading', level: 2 },\r\n  { label: 'Heading 3', value: 'heading', level: 3 },\r\n  { label: 'Heading 4', value: 'heading', level: 4 },\r\n  { label: 'Heading 5', value: 'heading', level: 5 },\r\n  { label: 'Heading 6', value: 'heading', level: 6 },\r\n];\r\n\r\nconst ToolbarButton = ({ \r\n  onClick, \r\n  disabled = false, \r\n  active = false, \r\n  children, \r\n  title \r\n}: { \r\n  onClick: () => void; \r\n  disabled?: boolean; \r\n  active?: boolean; \r\n  children: React.ReactNode; \r\n  title: string;\r\n}) => (\r\n  <button\r\n    type=\"button\"\r\n    onClick={onClick}\r\n    disabled={disabled}\r\n    title={title}\r\n    className={cn(\r\n      \"h-8 w-8 flex items-center justify-center rounded transition-colors\",\r\n      \"hover:bg-accent disabled:opacity-40 disabled:cursor-not-allowed\",\r\n      active && \"bg-accent\"\r\n    )}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\nconst Dropdown = ({\r\n  trigger,\r\n  children,\r\n  open,\r\n  onOpenChange,\r\n}: {\r\n  trigger: React.ReactNode;\r\n  children: React.ReactNode;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        onOpenChange(false);\r\n      }\r\n    };\r\n    if (open) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [open, onOpenChange]);\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative\">\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => onOpenChange(!open)}\r\n        className=\"h-8 px-2 flex items-center gap-1 rounded hover:bg-accent transition-colors text-sm\"\r\n      >\r\n        {trigger}\r\n        <ChevronDown className=\"h-3 w-3\" />\r\n      </button>\r\n      {open && (\r\n        <div className=\"absolute top-full left-0 mt-1 z-50 min-w-[140px] bg-popover border border-border rounded-md shadow-lg py-1\">\r\n          {children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EditorToolbar: React.FC<ToolbarProps> = ({ editor, theme, onToggleTheme, onExportPDF }) => {\r\n  const [headingOpen, setHeadingOpen] = useState(false);\r\n  const [fontSizeOpen, setFontSizeOpen] = useState(false);\r\n  const [listOpen, setListOpen] = useState(false);\r\n  const [tableOpen, setTableOpen] = useState(false);\r\n  const [tableRows, setTableRows] = useState('3');\r\n  const [tableCols, setTableCols] = useState('3');\r\n\r\n  if (!editor) return null;\r\n\r\n  const getCurrentHeading = (): string => {\r\n    for (let i = 1; i <= 6; i++) {\r\n      if (editor.isActive('heading', { level: i })) {\r\n        return `Heading ${i}`;\r\n      }\r\n    }\r\n    return 'Normal text';\r\n  };\r\n\r\n  const getCurrentFontSize = (): string => {\r\n    const attrs = editor.getAttributes('textStyle');\r\n    if (attrs && attrs.fontSize) {\r\n      return String(attrs.fontSize).replace('pt', '');\r\n    }\r\n    return '12';\r\n  };\r\n\r\n  const setHeading = (value: string, level: number) => {\r\n    if (value === 'paragraph') {\r\n      editor.chain().focus().setParagraph().run();\r\n    } else {\r\n      editor.chain().focus().toggleHeading({ level: level as 1 | 2 | 3 | 4 | 5 | 6 }).run();\r\n    }\r\n    setHeadingOpen(false);\r\n  };\r\n\r\n  const setFontSize = (size: string) => {\r\n    editor.chain().focus().setMark('textStyle', { fontSize: `${size}pt` }).run();\r\n    setFontSizeOpen(false);\r\n  };\r\n\r\n  const insertTable = () => {\r\n    const rows = Math.max(1, parseInt(tableRows) || 3);\r\n    const cols = Math.max(1, parseInt(tableCols) || 3);\r\n    editor.chain().focus().insertTable({ rows, cols, withHeaderRow: true }).run();\r\n    setTableOpen(false);\r\n    setTableRows('3');\r\n    setTableCols('3');\r\n  };\r\n\r\n  const canUndo = editor.can().undo();\r\n  const canRedo = editor.can().redo();\r\n\r\n  return (\r\n    <div className=\"no-print flex items-center gap-1 px-3 py-2 bg-toolbar border-b border-toolbar-border flex-wrap\">\r\n      {/* Theme Toggle - Extreme Left */}\r\n      <ToolbarButton\r\n        onClick={onToggleTheme}\r\n        title={theme === 'light' ? 'Switch to dark mode' : 'Switch to light mode'}\r\n      >\r\n        {theme === 'light' ? <Moon className=\"h-4 w-4\" /> : <Sun className=\"h-4 w-4\" />}\r\n      </ToolbarButton>\r\n\r\n      <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n      {/* Undo / Redo */}\r\n      <ToolbarButton\r\n        onClick={() => editor.chain().focus().undo().run()}\r\n        disabled={!canUndo}\r\n        title=\"Undo (Ctrl+Z)\"\r\n      >\r\n        <Undo2 className=\"h-4 w-4\" />\r\n      </ToolbarButton>\r\n      <ToolbarButton\r\n        onClick={() => editor.chain().focus().redo().run()}\r\n        disabled={!canRedo}\r\n        title=\"Redo (Ctrl+Y)\"\r\n      >\r\n        <Redo2 className=\"h-4 w-4\" />\r\n      </ToolbarButton>\r\n\r\n      <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n      {/* Heading Dropdown */}\r\n      <Dropdown\r\n        trigger={<span className=\"min-w-[90px] text-left\">{getCurrentHeading()}</span>}\r\n        open={headingOpen}\r\n        onOpenChange={setHeadingOpen}\r\n      >\r\n        {HEADINGS.map((h) => (\r\n          <div\r\n            key={h.label}\r\n            onClick={() => setHeading(h.value, h.level)}\r\n            className={cn(\r\n              \"px-3 py-2 text-sm cursor-pointer hover:bg-accent\",\r\n              ((h.value === 'paragraph' && !editor.isActive('heading')) ||\r\n                (h.value === 'heading' && editor.isActive('heading', { level: h.level }))) &&\r\n                \"bg-accent font-medium\"\r\n            )}\r\n          >\r\n            {h.label}\r\n          </div>\r\n        ))}\r\n      </Dropdown>\r\n\r\n      {/* Font Size Dropdown */}\r\n      <Dropdown\r\n        trigger={<span className=\"min-w-[40px] text-center\">{getCurrentFontSize()}</span>}\r\n        open={fontSizeOpen}\r\n        onOpenChange={setFontSizeOpen}\r\n      >\r\n        {FONT_SIZES.map((size) => (\r\n          <div\r\n            key={size}\r\n            onClick={() => setFontSize(size)}\r\n            className={cn(\r\n              \"px-3 py-1.5 text-sm cursor-pointer hover:bg-accent\",\r\n              getCurrentFontSize() === size && \"bg-accent font-medium\"\r\n            )}\r\n          >\r\n            {size}\r\n          </div>\r\n        ))}\r\n      </Dropdown>\r\n\r\n      <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n      {/* Formatting Buttons */}\r\n      <ToolbarButton\r\n        onClick={() => editor.chain().focus().toggleBold().run()}\r\n        active={editor.isActive('bold')}\r\n        title=\"Bold (Ctrl+B)\"\r\n      >\r\n        <Bold className=\"h-4 w-4\" />\r\n      </ToolbarButton>\r\n      <ToolbarButton\r\n        onClick={() => editor.chain().focus().toggleItalic().run()}\r\n        active={editor.isActive('italic')}\r\n        title=\"Italic (Ctrl+I)\"\r\n      >\r\n        <Italic className=\"h-4 w-4\" />\r\n      </ToolbarButton>\r\n      <ToolbarButton\r\n        onClick={() => editor.chain().focus().toggleUnderline().run()}\r\n        active={editor.isActive('underline')}\r\n        title=\"Underline (Ctrl+U)\"\r\n      >\r\n        <Underline className=\"h-4 w-4\" />\r\n      </ToolbarButton>\r\n      <ToolbarButton\r\n        onClick={() => editor.chain().focus().toggleStrike().run()}\r\n        active={editor.isActive('strike')}\r\n        title=\"Strikethrough\"\r\n      >\r\n        <Strikethrough className=\"h-4 w-4\" />\r\n      </ToolbarButton>\r\n\r\n      <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n      {/* Lists Dropdown */}\r\n      <Dropdown\r\n        trigger={<span className=\"min-w-[60px] text-left\">Lists</span>}\r\n        open={listOpen}\r\n        onOpenChange={setListOpen}\r\n      >\r\n        <div\r\n          onClick={() => {\r\n            editor.chain().focus().toggleBulletList().run();\r\n            setListOpen(false);\r\n          }}\r\n          className={cn(\r\n            \"px-3 py-2 text-sm cursor-pointer hover:bg-accent\",\r\n            editor.isActive('bulletList') && \"bg-accent font-medium\"\r\n          )}\r\n        >\r\n          Bulleted list\r\n        </div>\r\n        <div\r\n          onClick={() => {\r\n            editor.chain().focus().toggleOrderedList().run();\r\n            setListOpen(false);\r\n          }}\r\n          className={cn(\r\n            \"px-3 py-2 text-sm cursor-pointer hover:bg-accent\",\r\n            editor.isActive('orderedList') && \"bg-accent font-medium\"\r\n          )}\r\n        >\r\n          Numbered list\r\n        </div>\r\n      </Dropdown>\r\n\r\n      <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n      {/* Table Insert */}\r\n      <Dropdown\r\n        trigger={\r\n          <>\r\n            <Table className=\"h-4 w-4\" />\r\n            <span className=\"ml-1\">Table</span>\r\n          </>\r\n        }\r\n        open={tableOpen}\r\n        onOpenChange={setTableOpen}\r\n      >\r\n        <div className=\"p-3\">\r\n          <div className=\"text-sm font-medium mb-2\">Insert Table</div>\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <input\r\n              type=\"number\"\r\n              value={tableRows}\r\n              onChange={(e) => setTableRows(e.target.value)}\r\n              min=\"1\"\r\n              max=\"20\"\r\n              className=\"w-14 h-8 px-2 text-sm border border-border rounded bg-background text-foreground\"\r\n              placeholder=\"Rows\"\r\n            />\r\n            <span className=\"text-sm text-muted-foreground\">x</span>\r\n            <input\r\n              type=\"number\"\r\n              value={tableCols}\r\n              onChange={(e) => setTableCols(e.target.value)}\r\n              min=\"1\"\r\n              max=\"10\"\r\n              className=\"w-14 h-8 px-2 text-sm border border-border rounded bg-background text-foreground\"\r\n              placeholder=\"Cols\"\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={insertTable}\r\n            className=\"w-full h-8 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors\"\r\n          >\r\n            Insert\r\n          </button>\r\n        </div>\r\n      </Dropdown>\r\n\r\n      <div className=\"flex-1\" />\r\n\r\n      {/* Export PDF */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={onExportPDF}\r\n        className=\"h-8 px-3 flex items-center gap-2 rounded bg-primary text-primary-foreground hover:bg-primary/90 transition-colors text-sm\"\r\n      >\r\n        <FileDown className=\"h-4 w-4\" />\r\n        Export PDF\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditorToolbar;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///F:/antigravity/doc-editor/src/components/editor/TableMenu.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Editor } from '@tiptap/react';\r\nimport {\r\n  Plus,\r\n  Minus,\r\n  Trash2,\r\n  ArrowUp,\r\n  ArrowDown,\r\n  ArrowLeft,\r\n  ArrowRight,\r\n} from 'lucide-react';\r\n\r\ninterface TableMenuProps {\r\n  editor: Editor;\r\n}\r\n\r\nconst TableMenu: React.FC<TableMenuProps> = ({ editor }) => {\r\n  return (\r\n    <div className=\"table-menu\">\r\n      {/* Add row above */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().addRowBefore().run()}\r\n        title=\"Add row above\"\r\n      >\r\n        <ArrowUp className=\"h-3 w-3\" />\r\n        <Plus className=\"h-3 w-3\" />\r\n      </button>\r\n\r\n      {/* Add row below */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().addRowAfter().run()}\r\n        title=\"Add row below\"\r\n      >\r\n        <ArrowDown className=\"h-3 w-3\" />\r\n        <Plus className=\"h-3 w-3\" />\r\n      </button>\r\n\r\n      <div className=\"separator\" />\r\n\r\n      {/* Add column left */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().addColumnBefore().run()}\r\n        title=\"Add column left\"\r\n      >\r\n        <ArrowLeft className=\"h-3 w-3\" />\r\n        <Plus className=\"h-3 w-3\" />\r\n      </button>\r\n\r\n      {/* Add column right */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().addColumnAfter().run()}\r\n        title=\"Add column right\"\r\n      >\r\n        <ArrowRight className=\"h-3 w-3\" />\r\n        <Plus className=\"h-3 w-3\" />\r\n      </button>\r\n\r\n      <div className=\"separator\" />\r\n\r\n      {/* Delete row */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().deleteRow().run()}\r\n        title=\"Delete row\"\r\n      >\r\n        <Minus className=\"h-3 w-3\" />\r\n        Row\r\n      </button>\r\n\r\n      {/* Delete column */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().deleteColumn().run()}\r\n        title=\"Delete column\"\r\n      >\r\n        <Minus className=\"h-3 w-3\" />\r\n        Col\r\n      </button>\r\n\r\n      <div className=\"separator\" />\r\n\r\n      {/* Delete table */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().deleteTable().run()}\r\n        title=\"Delete table\"\r\n        className=\"text-destructive hover:text-destructive\"\r\n      >\r\n        <Trash2 className=\"h-3 w-3\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableMenu;\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAcA,MAAM,YAAsC,CAAC,EAAE,MAAM,EAAE;IACrD,qBACE,+PAAC;QAAI,WAAU;;0BAEb,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,YAAY,GAAG,GAAG;gBACxD,OAAM;;kCAEN,+PAAC,wOAAO;wBAAC,WAAU;;;;;;kCACnB,+PAAC,2NAAI;wBAAC,WAAU;;;;;;;;;;;;0BAIlB,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,WAAW,GAAG,GAAG;gBACvD,OAAM;;kCAEN,+PAAC,8OAAS;wBAAC,WAAU;;;;;;kCACrB,+PAAC,2NAAI;wBAAC,WAAU;;;;;;;;;;;;0BAGlB,+PAAC;gBAAI,WAAU;;;;;;0BAGf,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,eAAe,GAAG,GAAG;gBAC3D,OAAM;;kCAEN,+PAAC,8OAAS;wBAAC,WAAU;;;;;;kCACrB,+PAAC,2NAAI;wBAAC,WAAU;;;;;;;;;;;;0BAIlB,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,cAAc,GAAG,GAAG;gBAC1D,OAAM;;kCAEN,+PAAC,iPAAU;wBAAC,WAAU;;;;;;kCACtB,+PAAC,2NAAI;wBAAC,WAAU;;;;;;;;;;;;0BAGlB,+PAAC;gBAAI,WAAU;;;;;;0BAGf,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,GAAG;gBACrD,OAAM;;kCAEN,+PAAC,8NAAK;wBAAC,WAAU;;;;;;oBAAY;;;;;;;0BAK/B,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,YAAY,GAAG,GAAG;gBACxD,OAAM;;kCAEN,+PAAC,8NAAK;wBAAC,WAAU;;;;;;oBAAY;;;;;;;0BAI/B,+PAAC;gBAAI,WAAU;;;;;;0BAGf,+PAAC;gBACC,MAAK;gBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,WAAW,GAAG,GAAG;gBACvD,OAAM;gBACN,WAAU;0BAEV,cAAA,+PAAC,qOAAM;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1B;uCAEe"}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///F:/antigravity/doc-editor/src/components/editor/extensions.ts"],"sourcesContent":["import { Extension } from '@tiptap/core';\r\nimport '@tiptap/extension-text-style';\r\n\r\ndeclare module '@tiptap/core' {\r\n    interface Commands<ReturnType> {\r\n        fontSize: {\r\n            setFontSize: (size: string) => ReturnType;\r\n            unsetFontSize: () => ReturnType;\r\n        };\r\n    }\r\n}\r\n\r\nexport const FontSize = Extension.create({\r\n    name: 'fontSize',\r\n\r\n    addOptions() {\r\n        return {\r\n            types: ['textStyle'],\r\n        };\r\n    },\r\n\r\n    addGlobalAttributes() {\r\n        return [\r\n            {\r\n                types: this.options.types,\r\n                attributes: {\r\n                    fontSize: {\r\n                        default: null,\r\n                        parseHTML: (element) => element.style.fontSize.replace(/['\"]+/g, ''),\r\n                        renderHTML: (attributes) => {\r\n                            if (!attributes.fontSize) {\r\n                                return {};\r\n                            }\r\n                            return {\r\n                                style: `font-size: ${attributes.fontSize}`,\r\n                            };\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n        ];\r\n    },\r\n\r\n    addCommands() {\r\n        return {\r\n            setFontSize:\r\n                (fontSize) =>\r\n                    ({ chain }) => {\r\n                        return chain()\r\n                            .setMark('textStyle', { fontSize })\r\n                            .run();\r\n                    },\r\n            unsetFontSize:\r\n                () =>\r\n                    ({ chain }) => {\r\n                        return chain()\r\n                            .setMark('textStyle', { fontSize: null })\r\n                            .removeEmptyTextStyle()\r\n                            .run();\r\n                    },\r\n        };\r\n    },\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAWO,MAAM,WAAW,+KAAS,CAAC,MAAM,CAAC;IACrC,MAAM;IAEN;QACI,OAAO;YACH,OAAO;gBAAC;aAAY;QACxB;IACJ;IAEA;QACI,OAAO;YACH;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK;gBACzB,YAAY;oBACR,UAAU;wBACN,SAAS;wBACT,WAAW,CAAC,UAAY,QAAQ,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU;wBACjE,YAAY,CAAC;4BACT,IAAI,CAAC,WAAW,QAAQ,EAAE;gCACtB,OAAO,CAAC;4BACZ;4BACA,OAAO;gCACH,OAAO,CAAC,WAAW,EAAE,WAAW,QAAQ,EAAE;4BAC9C;wBACJ;oBACJ;gBACJ;YACJ;SACH;IACL;IAEA;QACI,OAAO;YACH,aACI,CAAC,WACG,CAAC,EAAE,KAAK,EAAE;oBACN,OAAO,QACF,OAAO,CAAC,aAAa;wBAAE;oBAAS,GAChC,GAAG;gBACZ;YACR,eACI,IACI,CAAC,EAAE,KAAK,EAAE;oBACN,OAAO,QACF,OAAO,CAAC,aAAa;wBAAE,UAAU;oBAAK,GACtC,oBAAoB,GACpB,GAAG;gBACZ;QACZ;IACJ;AACJ"}},
    {"offset": {"line": 847, "column": 0}, "map": {"version":3,"sources":["file:///F:/antigravity/doc-editor/src/hooks/useTheme.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\n\r\nexport function useTheme() {\r\n  const [theme, setTheme] = useState<Theme>(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const stored = localStorage.getItem('document-editor-theme') as Theme;\r\n      if (stored === 'light' || stored === 'dark') {\r\n        return stored;\r\n      }\r\n    }\r\n    return 'light';\r\n  });\r\n\r\n  useEffect(() => {\r\n    const root = window.document.documentElement;\r\n    root.classList.remove('light', 'dark');\r\n    root.classList.add(theme);\r\n    localStorage.setItem('document-editor-theme', theme);\r\n  }, [theme]);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => (prev === 'light' ? 'dark' : 'light'));\r\n  };\r\n\r\n  return { theme, setTheme, toggleTheme };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAIO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kOAAQ,EAAQ;QACxC;;QAMA,OAAO;IACT;IAEA,IAAA,mOAAS,EAAC;QACR,MAAM,OAAO,OAAO,QAAQ,CAAC,eAAe;QAC5C,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;QAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;QACnB,aAAa,OAAO,CAAC,yBAAyB;IAChD,GAAG;QAAC;KAAM;IAEV,MAAM,cAAc;QAClB,SAAS,CAAC,OAAU,SAAS,UAAU,SAAS;IAClD;IAEA,OAAO;QAAE;QAAO;QAAU;IAAY;AACxC"}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"sources":["file:///F:/antigravity/doc-editor/src/components/editor/DocumentEditor.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { useEditor, EditorContent, BubbleMenu } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport Underline from '@tiptap/extension-underline';\r\nimport TextStyle from '@tiptap/extension-text-style';\r\nimport Table from '@tiptap/extension-table';\r\nimport TableRow from '@tiptap/extension-table-row';\r\nimport TableCell from '@tiptap/extension-table-cell';\r\nimport TableHeader from '@tiptap/extension-table-header';\r\nimport EditorToolbar from './EditorToolbar';\r\nimport TableMenu from './TableMenu';\r\nimport { FontSize } from './extensions';\r\nimport { useTheme } from '@/hooks/useTheme';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\n// Page dimensions at 96 DPI - US Letter\r\nconst PAGE_WIDTH = 816;\r\nconst PAGE_HEIGHT = 1056;\r\nconst TOP_MARGIN = 96;\r\nconst BOTTOM_MARGIN = 96;\r\nconst SIDE_MARGIN = 96;\r\n\r\nconst CONTENTS_HEIGHT = PAGE_HEIGHT - TOP_MARGIN - BOTTOM_MARGIN;\r\n\r\nconst HEADER_HEIGHT = 24; // Visual height for the header text container\r\nconst FOOTER_HEIGHT = 24; // Visual height for the footer text container\r\n\r\nconst DocumentEditor: React.FC = () => {\r\n  const { theme, toggleTheme } = useTheme();\r\n  const [documentTitle, setDocumentTitle] = useState('Untitled document');\r\n  const [pageCount, setPageCount] = useState(1);\r\n  const [headerText] = useState('');\r\n  const [footerText] = useState('');\r\n  const pagesContainerRef = useRef<HTMLDivElement>(null);\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit.configure({\r\n        heading: {\r\n          levels: [1, 2, 3, 4, 5, 6],\r\n        },\r\n        codeBlock: false,\r\n        code: false,\r\n      }),\r\n      Underline,\r\n      TextStyle,\r\n      FontSize,\r\n      Table.configure({\r\n        resizable: true,\r\n        HTMLAttributes: {\r\n          class: 'tiptap-table',\r\n        },\r\n      }),\r\n      TableRow,\r\n      TableCell,\r\n      TableHeader,\r\n    ],\r\n    content: '',\r\n    editorProps: {\r\n      attributes: {\r\n        class: 'tiptap-editor focus:outline-none',\r\n        style: 'font-family: \"Times New Roman\", Georgia, serif; font-size: 12pt; line-height: 1.6;',\r\n      },\r\n    },\r\n  });\r\n\r\n  // Measure content height to determine page count\r\n  const measureContent = useCallback(() => {\r\n    if (contentRef.current) {\r\n      const height = contentRef.current.scrollHeight;\r\n      // Calculate required pages based on the flow height\r\n      const requiredPages = Math.max(1, Math.ceil(height / PAGE_HEIGHT));\r\n      setPageCount(requiredPages);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    measureContent();\r\n    const observer = new ResizeObserver(() => {\r\n      requestAnimationFrame(measureContent);\r\n    });\r\n    if (contentRef.current) {\r\n      observer.observe(contentRef.current);\r\n    }\r\n    return () => observer.disconnect();\r\n  }, [measureContent]);\r\n\r\n  // Re-measure when editor content changes\r\n  useEffect(() => {\r\n    if (!editor) return;\r\n    const updateHandler = () => requestAnimationFrame(measureContent);\r\n    editor.on('update', updateHandler);\r\n    editor.on('selectionUpdate', updateHandler);\r\n    editor.on('transaction', updateHandler);\r\n\r\n    return () => {\r\n      editor.off('update', updateHandler);\r\n      editor.off('selectionUpdate', updateHandler);\r\n      editor.off('transaction', updateHandler);\r\n    };\r\n  }, [editor, measureContent]);\r\n\r\n  const handleExportPDF = useCallback(async () => {\r\n    if (!pagesContainerRef.current) return;\r\n\r\n    const pdf = new jsPDF({\r\n      orientation: 'portrait',\r\n      unit: 'px',\r\n      format: [PAGE_WIDTH, PAGE_HEIGHT],\r\n      hotfixes: ['px_scaling'],\r\n    });\r\n\r\n    const container = pagesContainerRef.current;\r\n\r\n    // Temporarily hide masks for export if desired? \r\n    // Actually, masks should be captured if we want WYSIWYG. \r\n    // But usually PDF export shouldn't have white blocks obscuring text if that text is meant to be read?\r\n    // User said \"Text visually jumps\". The text in the gap IS hidden.\r\n    // So masking is correct for export too (it preserves the WYSIWYG layout).\r\n\r\n    const wasEditable = editor?.isEditable;\r\n    if (editor && wasEditable) {\r\n      editor.setEditable(false);\r\n    }\r\n\r\n    for (let i = 0; i < pageCount; i++) {\r\n      if (i > 0) {\r\n        pdf.addPage([PAGE_WIDTH, PAGE_HEIGHT]);\r\n      }\r\n\r\n      const yOffset = i * PAGE_HEIGHT;\r\n\r\n      const canvas = await html2canvas(container, {\r\n        x: 0,\r\n        y: yOffset,\r\n        width: PAGE_WIDTH,\r\n        height: PAGE_HEIGHT,\r\n        scale: 2,\r\n        useCORS: true,\r\n        backgroundColor: '#ffffff',\r\n        logging: false,\r\n        windowWidth: PAGE_WIDTH,\r\n        windowHeight: PAGE_HEIGHT,\r\n        // Ensure we capture all layers\r\n        ignoreElements: (element) => element.classList.contains('no-print')\r\n      });\r\n\r\n      const imgData = canvas.toDataURL('image/png');\r\n      pdf.addImage(imgData, 'PNG', 0, 0, PAGE_WIDTH, PAGE_HEIGHT);\r\n    }\r\n\r\n    if (editor && wasEditable) {\r\n      editor.setEditable(true);\r\n    }\r\n\r\n    const filename = documentTitle.trim() || 'Untitled document';\r\n    pdf.save(`${filename}.pdf`);\r\n  }, [documentTitle, pageCount, editor]);\r\n\r\n  const handleTitleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      editor?.commands.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen bg-workspace overflow-hidden\">\r\n      {/* Header with title */}\r\n      <div className=\"no-print flex items-center px-4 py-3 bg-toolbar border-b border-toolbar-border z-20 relative\">\r\n        <input\r\n          type=\"text\"\r\n          value={documentTitle}\r\n          onChange={(e) => setDocumentTitle(e.target.value)}\r\n          onKeyDown={handleTitleKeyDown}\r\n          placeholder=\"Untitled document\"\r\n          className=\"text-lg font-medium bg-transparent border-none outline-none focus:outline-none text-foreground placeholder:text-muted-foreground\"\r\n          style={{ minWidth: '200px' }}\r\n        />\r\n      </div>\r\n\r\n      {/* Toolbar */}\r\n      <div className=\"z-20 relative\">\r\n        <EditorToolbar\r\n          editor={editor}\r\n          theme={theme}\r\n          onToggleTheme={toggleTheme}\r\n          onExportPDF={handleExportPDF}\r\n        />\r\n      </div>\r\n\r\n      {/* Table Bubble Menu */}\r\n      {editor && (\r\n        <BubbleMenu\r\n          editor={editor}\r\n          tippyOptions={{\r\n            duration: 100,\r\n            placement: 'top',\r\n          }}\r\n          shouldShow={({ editor }) => editor.isActive('table')}\r\n        >\r\n          <TableMenu editor={editor} />\r\n        </BubbleMenu>\r\n      )}\r\n\r\n      {/* Scrollable Viewport */}\r\n      {/* Ensure viewport is the click target for the whole document */}\r\n      <div className=\"flex-1 overflow-auto py-8 relative cursor-text\" onClick={() => editor?.commands.focus()}>\r\n        {/* Main Container */}\r\n        <div\r\n          ref={pagesContainerRef}\r\n          className=\"mx-auto relative shadow-2xl\"\r\n          style={{ width: `${PAGE_WIDTH}px`, minHeight: `${pageCount * PAGE_HEIGHT}px` }}\r\n        >\r\n          {/* Layer 0: Visual Page Backgrounds (Z-0) */}\r\n          <div className=\"absolute top-0 left-0 w-full h-full z-0 pointer-events-none\">\r\n            {Array.from({ length: pageCount }).map((_, pageIndex) => (\r\n              <div\r\n                key={pageIndex}\r\n                className=\"document-page bg-background relative border-b border-dashed border-gray-300\"\r\n                style={{\r\n                  width: `${PAGE_WIDTH}px`,\r\n                  height: `${PAGE_HEIGHT}px`,\r\n                }}\r\n              >\r\n                {/* Page Header Text */}\r\n                <div\r\n                  className=\"document-header absolute left-0 right-0 flex items-center justify-center\"\r\n                  style={{\r\n                    top: `${TOP_MARGIN / 2}px`,\r\n                    height: `${HEADER_HEIGHT}px`,\r\n                    zIndex: 30\r\n                  }}\r\n                >\r\n                  {headerText}\r\n                </div>\r\n\r\n                {/* Page Footer Text */}\r\n                <div\r\n                  className=\"document-footer absolute left-0 right-0 flex items-center justify-center\"\r\n                  style={{\r\n                    bottom: `${TOP_MARGIN / 2}px`,\r\n                    height: `${FOOTER_HEIGHT}px`,\r\n                    zIndex: 30\r\n                  }}\r\n                >\r\n                  {footerText}\r\n                </div>\r\n\r\n                {/* Page Number */}\r\n                <div\r\n                  className=\"page-number absolute left-0 right-0 text-center\"\r\n                  style={{\r\n                    bottom: `${TOP_MARGIN / 4}px`,\r\n                    fontSize: '10pt',\r\n                    color: 'hsl(var(--muted-foreground))',\r\n                    zIndex: 30\r\n                  }}\r\n                >\r\n                  {pageIndex + 1}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Layer 1: The Actual Editor (Z-10) */}\r\n          <div\r\n            ref={contentRef}\r\n            className=\"relative z-10 w-full\"\r\n            style={{\r\n              paddingTop: `${TOP_MARGIN}px`,\r\n              paddingBottom: `${BOTTOM_MARGIN}px`,\r\n              paddingLeft: `${SIDE_MARGIN}px`,\r\n              paddingRight: `${SIDE_MARGIN}px`,\r\n            }}\r\n          >\r\n            <EditorContent editor={editor} />\r\n          </div>\r\n\r\n          {/* Layer 2: Visual Masks (Z-20) - REMOVED to prevent content deleting/interaction blocking */}\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status bar */}\r\n      <div className=\"no-print flex items-center justify-between px-4 py-1.5 bg-toolbar border-t border-toolbar-border text-xs text-muted-foreground z-20 relative\">\r\n        <span>US Letter (8.5\" Ã— 11\") | 1\" margins</span>\r\n        <span>{pageCount} {pageCount === 1 ? 'page' : 'pages'}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DocumentEditor;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1294, "column": 0}, "map": {"version":3,"sources":["file:///F:/antigravity/doc-editor/src/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport DocumentEditor from '@/components/editor/DocumentEditor';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { useState } from 'react';\r\n\r\nexport default function Home() {\r\n    const [queryClient] = useState(() => new QueryClient());\r\n\r\n    return (\r\n        <QueryClientProvider client={queryClient}>\r\n            <DocumentEditor />\r\n        </QueryClientProvider>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,CAAC,YAAY,GAAG,IAAA,kOAAQ,EAAC,IAAM,IAAI,6MAAW;IAEpD,qBACI,+PAAC,8NAAmB;QAAC,QAAQ;kBACzB,cAAA,+PAAC,0KAAc;;;;;;;;;;AAG3B"}}]
}